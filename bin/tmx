#!/bin/bash

HOST=$(hostname)

hash_string256() {
    hash_value=$(printf "%s" "$1" | md5sum |tr -d " -"| tr "a-f" "A-F")
    printf "ibase=16; (%s + %X) %% 100 \n" "$hash_value" "$2" | bc
}

declare -A hosts
hosts[grunte]="colour210"
hosts[bean]="colour69"
hosts[sugarsnap]="colour220"
hosts[carrot]="colour135"
color_grey=colour237

if [ ${hosts[$HOST]+_} ];then
  color=${hosts[$HOST]}
else
  color="colour131"
fi

export TERM=tmux-256color

tmux -2 new-session -d -s "$HOST"
tmux set -g status-style fg="$color",bg="$color_grey"
tmux set-window-option -g window-status-current-style bg="$color",fg="$color_grey"
tmux set -g pane-active-border-style fg="$color"
tmux set -g pane-border-style fg="$color_grey"

# Attach to session
tmux -2 attach-session -t "$HOST"
